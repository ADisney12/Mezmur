import{a as r}from"./axios.2576361e.js";import{_ as y,o,c as n,a as t,F as d,r as m,d as h,b as c,t as u}from"./index.74dfc967.js";const g={data(){let a=this.$route.params.name,s=this.$route.params.password,p=this.$route.params.playlist;return{playlistNum:0,audio:new Audio,num:1,status:"pause",username:a,password:s,playlist:p,resd:{},SongThatsPLaying:null,play:"play",num2:1}},mounted(){const a="http://127.0.0.1:5000/withinPlaylist/"+this.username+"/"+this.playlist;r.get(a).then(s=>{console.log(s),this.resd=s.data})},methods:{GoToSearch(){this.$router.push({name:"search",params:{name:this.username,password:this.password}})},GoToPlaylists(){this.$router.push({name:"playlists",params:{name:this.username,password:this.password}})},playFnc(a){this.audio.pause(),this.status="pause",console.log(this.playlistNum),this.audio=new Audio(a.url),this.audio.play(),this.SongThatsPLaying=a.title,this.status="pause",this.audio.onended=()=>{this.playlistNum+=1,console.log(this.playlistNum),this.audio=new Audio(this.resd[this.playlistNum].url),this.audio.play()}},pause(){this.num+=1,this.num%2==0?(this.audio.pause(),console.log(this.status),this.status="resume",this.play="play"):(this.audio.play(),console.log(this.status),this.status="pause",this.play="pause")},playList(){console.log("started",this.playlistNum),this.play="pause",this.status="pause",this.audio!=null&&this.audio.pause(),this.playlistNum==this.resd.length&&(this.playlistNum=0),console.log(this.playlistNum),this.audio=new Audio(this.resd[this.playlistNum].url),this.audio.play(),this.SongThatsPLaying=this.resd[this.playlistNum].title,this.audio.onended=()=>{console.log("success!"),this.skip()}},skip(){this.audio.pause(),this.playlistNum+=1,console.log(this.resd.length,this.playlistNum),this.playlistNum==this.resd.length&&(this.playlistNum=0),this.playList()}}},_={class:"sidenav"},v=t("h1",{id:"title"},"Mezmur",-1),N=t("a",null,"Songs",-1),k=t("a",null,"artists",-1),w={id:"results"},f=["onClick"],T={class:"authors"},L={key:0,id:"playing"},P={key:1,id:"now_playing"},S={id:"titlePlaying"};function C(a,s,p,A,l,e){return o(),n(d,null,[t("div",{id:"play",onClick:s[0]||(s[0]=i=>e.playList())},"play"),t("div",null,[t("div",_,[v,t("a",{onClick:s[1]||(s[1]=i=>e.GoToSearch())},"search"),t("a",{onClick:s[2]||(s[2]=i=>e.GoToPlaylists())},"playists"),N,k]),a.d!=0?(o(!0),n(d,{key:0},m(l.resd,i=>(o(),n("div",w,[t("div",{onClick:F=>e.playFnc(i),class:"titles"},u(i.title),9,f),t("div",T,u(i.author),1),i.title==l.SongThatsPLaying?(o(),n("div",L,"playing")):h("",!0)]))),256)):h("",!0),l.SongThatsPLaying?(o(),n("div",P,[c(" now playing "),t("div",S,u(l.SongThatsPLaying),1),t("div",{onClick:s[3]||(s[3]=i=>e.skip()),id:"skip"},"skip"),t("div",{onClick:s[4]||(s[4]=i=>e.pause()),id:"pause"},u(l.status),1)])):h("",!0)])],64)}const B=y(g,[["render",C]]);export{B as default};
